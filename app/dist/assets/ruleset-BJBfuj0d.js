import{h as de,a7 as ue,a8 as fe,a9 as X,B as $,aa as ee,V as be,a2 as b,g as o,Y as pe,Z as x,a3 as H,_ as n,a1 as m,a4 as J,ab as K,$ as w,a0 as ve,c as p,ac as he,a5 as _e,a6 as ye}from"./legacy-DVQDreaG.js";function c(e,t,a,i){var s=e.__attributes??(e.__attributes={});s[t]!==(s[t]=a)&&(a==null?e.removeAttribute(t):typeof a!="string"&&me(e).includes(t)?e[t]=a:e.setAttribute(t,a))}var Q=new Map;function me(e){var t=Q.get(e.nodeName);if(t)return t;Q.set(e.nodeName,t=[]);for(var a,i=e,s=Element.prototype;s!==i;){a=ue(i);for(var r in a)a[r].set&&t.push(r);i=de(i)}return t}function P(e,t,a=t){var i=fe();X(e,"input",s=>{var r=s?e.defaultValue:e.value;if(r=A(e)?E(r):r,a(r),i&&r!==(r=t())){var v=e.selectionStart,d=e.selectionEnd;e.value=r??"",d!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(d,e.value.length))}}),$(t)==null&&e.value&&a(A(e)?E(e.value):e.value),ee(()=>{var s=t();A(e)&&s===E(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function T(e,t,a=t){X(e,"change",i=>{var s=i?e.defaultChecked:e.checked;a(s)}),$(t)==null&&a(e.checked),ee(()=>{var i=t();e.checked=!!i})}function A(e){var t=e.type;return t==="number"||t==="range"}function E(e){return e===""?null:+e}var we=x('<p class="text-[16pt] font-bold">New Ruleset</p> <p class="text-[10pt]">A ruleset decides how you want to be alerted. It can have any number of rules in it and the alert will be sent when any of those rules becomes active.</p>',1),xe=x('<p class="text-[16pt] font-bold">Edit Ruleset</p>'),ge=x('<br> <label for="5" class="font-italic">Sound name:</label> <br> <input id="5" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0 disabled:border-gray-500"> <br> <label for="6" class="font-italic"> </label> <br> <input id="6" type="range">',1),ke=x('<div class="mx-2 my-1 p-0 b-0 text-gray-200"><!> <hr class="my-4 opacity-40"> <div class="text-[8pt] w-auto select-none"><label for="1" class="font-italic">Ruleset name:</label> <br> <input id="1" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0"> <br><br> <input id="2" type="checkbox"> <label for="2" class="font-italic">Alert only if unfocused</label> <br><br> <input id="3" type="checkbox"> <label for="3" class="font-italic">Flash window</label> <br><br> <input id="4" type="checkbox"> <label for="4" class="font-italic">Play a sound</label> <!></div> <span><button class="w-25 bg-red-500 rounded-sm py-1 px-2 mr-1 mt-4 font-bold text-white text-center hover:opacity-75">Cancel</button> <button class="w-25 bg-blue-500 rounded-sm py-1 px-2 mt-4 font-bold text-white text-center enabled:hover:opacity-75 disabled:bg-gray-500">Save</button></span></div>');function Se(e,t){be(t,!1);let a=new URLSearchParams(window.location.search),i=a.get("volume"),s=a.get("id"),r=b(a.get("name")??"New Ruleset"),v=b(a.get("only_if_unfocused")==="1"),d=b(a.get("flash_window")==="1"),h=b(a.get("sound")),u=b(o(h)!==null),_=b(i?parseInt(i):100);const I="how this ruleset will be identified in the main window",U="if checked, alert only if the game window is out-of-focus, otherwise always alert",V="if checked, flash in the taskbar when this ruleset alerts",B="if checked, play a sound when this ruleset alerts (more sound options below)",C="name of the sound file in the sounds directory",te=()=>{let l={name:o(r),do_flash_window:o(d)?"1":"0",volume:o(_).toString(),only_if_unfocused:o(v)?"1":"0"};return o(u)&&o(h)&&(l.sound=o(h)),s&&(l.id=s),"\0".concat(new URLSearchParams(l).toString())},ae=()=>fetch("https://bolt-api/send-message",{method:"POST",body:te()}),le=()=>fetch("https://bolt-api/close-request");pe();var F=ke(),L=m(F);{var oe=l=>{var f=we();w(l,f)},se=l=>{var f=xe();w(l,f)};H(L,l=>{s===null?l(oe):l(se,!1)})}var M=n(L,4),W=m(M);c(W,"title",I);var g=n(W,4);c(g,"title",I);var k=n(g,5);c(k,"title",U);var q=n(k,2);c(q,"title",U);var S=n(q,5);c(S,"title",V);var O=n(S,2);c(O,"title",V);var R=n(O,5);c(R,"title",B);var Y=n(R,2);c(Y,"title",B);var re=n(Y,2);{var ne=l=>{var f=ge(),z=n(he(f),2);c(z,"title",C);var y=n(z,4);c(y,"title",C);var D=n(y,4),ce=m(D),G=n(D,4);J(()=>{y.disabled=!o(u),_e(ce,`Volume: ${o(_)??""}%`),G.disabled=!o(u)}),P(y,()=>o(h),N=>p(h,N)),P(G,()=>o(_),N=>p(_,N)),w(l,f)};H(re,l=>{o(u)&&l(ne)})}var ie=n(M,2),Z=m(ie),j=n(Z,2);J(()=>j.disabled=o(r).length===0),P(g,()=>o(r),l=>p(r,l)),T(k,()=>o(v),l=>p(v,l)),T(S,()=>o(d),l=>p(d,l)),T(R,()=>o(u),l=>p(u,l)),K("click",Z,le),K("click",j,ae),w(e,F),ve()}ye(Se,{target:document.body});
