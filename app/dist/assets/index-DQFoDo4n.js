import{b as Je,g as c,d as re,r as Xe,a as De,p as Ke,I as pe,c as Me,e as ue,i as Qe,m as ye,s as Se,E as Ze,f as et,h as tt,j as nt,k as at,l as rt,n as st,o as ot,q as it,t as ne,u as le,v as ut,w as lt,x as V,y as ct,z as dt,L as ft,A as pt,S as gt,B as vt,C as bt,P as _t,D as mt,R as ht,F as Ee,G as Ue,H as xt,J as yt,K as wt,M as Ce,N as Ne,O as ae,Q as It,T as kt,U as Fe,V as Z,W as ge,X as S,Y as z,Z as qe,_ as B,$ as Ae,a0 as ve,a1 as $e,a2 as Rt,a3 as St}from"./legacy-QdHdgBri.js";import{s as ee}from"./attributes-B2wz-yIv.js";import{p as Et,R as $}from"./interfaces-BZgutEdt.js";let Be=!1;function Pe(e,t){return t}function Ut(e,t,n,o){for(var i=[],p=t.length,m=0;m<p;m++)et(t[m].e,i,!0);var h=p>0&&i.length===0&&n!==null;if(h){var g=n.parentNode;tt(g),g.append(n),o.clear(),G(e,t[0].prev,t[p-1].next)}nt(i,()=>{for(var b=0;b<p;b++){var l=t[b];h||(o.delete(l.k),G(e,l.prev,l.next)),at(l.e,!h)}})}function Oe(e,t,n,o,i,p=null){var m=e,h={items:new Map,first:null},g=null,b=!1,l=re(()=>{var _=n();return it(_)?_:_==null?[]:Me(_)});Je(()=>{var _=c(l),v=_.length;b&&v===0||(b=v===0,At(_,h,m,i,t,o,n),p!==null&&(v===0?g?Xe(g):g=De(()=>p(m)):g!==null&&Ke(g,()=>{g=null})),c(l))})}function At(e,t,n,o,i,p,m){var h=e.length,g=t.items,b=t.first,l=b,_,v=null,R=[],w=[],P,X,I,U;for(U=0;U<h;U+=1){if(P=e[U],X=p(P,U),I=g.get(X),I===void 0){var F=l?l.e.nodes_start:n;v=Pt(F,t,v,v===null?t.first:v.next,P,X,U,o,i,m),g.set(X,v),R=[],w=[],l=v.next;continue}if($t(I,P,U),I.e.f&pe&&Xe(I.e),I!==l){if(_!==void 0&&_.has(I)){if(R.length<w.length){var D=w[0],k;v=D.prev;var M=R[0],x=R[R.length-1];for(k=0;k<R.length;k+=1)He(R[k],D,n);for(k=0;k<w.length;k+=1)_.delete(w[k]);G(t,M.prev,x.next),G(t,v,M),G(t,x,D),l=D,v=x,U-=1,R=[],w=[]}else _.delete(I),He(I,l,n),G(t,I.prev,I.next),G(t,I,v===null?t.first:v.next),G(t,v,I),v=I;continue}for(R=[],w=[];l!==null&&l.k!==X;)l.e.f&pe||(_??(_=new Set)).add(l),w.push(l),l=l.next;if(l===null)continue;I=l}R.push(I),v=I,l=I.next}if(l!==null||_!==void 0){for(var T=_===void 0?[]:Me(_);l!==null;)l.e.f&pe||T.push(l),l=l.next;var L=T.length;if(L>0){var a=null;Ut(t,T,a,g)}}ue.first=t.first&&t.first.e,ue.last=v&&v.e}function $t(e,t,n,o){Qe(e.v,t),e.i=n}function Pt(e,t,n,o,i,p,m,h,g,b){var l=(g&st)!==0,_=(g&ot)===0,v=l?_?ye(i):Se(i):i,R=g&Ze?Se(m):m,w={i:R,v,k:p,a:null,e:null,prev:n,next:o};try{return w.e=De(()=>h(e,v,R,b),Be),w.e.prev=n&&n.e,w.e.next=o&&o.e,n===null?t.first=w:(n.next=w,n.e.next=w.e),o!==null&&(o.prev=w,o.e.prev=w.e),w}finally{}}function He(e,t,n){for(var o=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,p=e.e.nodes_start;p!==o;){var m=rt(p);i.before(p),p=m}}function G(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ve(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ve(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Ot(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ve(e))&&(o&&(o+=" "),o+=t);return o}function be(e){return typeof e=="object"?Ot(e):e??""}function _e(e,t,n){var o=e.__className,i=Ht(t);(o!==i||Be)&&(t==null?e.removeAttribute("class"):e.className=i,e.__className=i)}function Ht(e,t){return(e??"")+""}function je(e,t,n){if(e==null)return t(void 0),ne;const o=le(()=>e.subscribe(t,n));return o.unsubscribe?()=>o.unsubscribe():o}const te=[];function Te(e,t=ne){let n=null;const o=new Set;function i(h){if(ut(e,h)&&(e=h,n)){const g=!te.length;for(const b of o)b[1](),te.push(b,e);if(g){for(let b=0;b<te.length;b+=2)te[b][0](te[b+1]);te.length=0}}}function p(h){i(h(e))}function m(h,g=ne){const b=[h,g];return o.add(b),o.size===1&&(n=t(i,p)||ne),h(e),()=>{o.delete(b),o.size===0&&n&&(n(),n=null)}}return{set:i,update:p,subscribe:m}}function he(e){let t;return je(e,n=>t=n)(),t}let ie=!1,xe=Symbol();function Tt(e,t,n){const o=n[t]??(n[t]={store:null,source:ye(void 0),unsubscribe:ne});if(o.store!==e&&!(xe in n))if(o.unsubscribe(),o.store=e??null,e==null)o.source.v=void 0,o.unsubscribe=ne;else{var i=!0;o.unsubscribe=je(e,p=>{i?o.source.v=p:V(o.source,p)}),i=!1}return e&&xe in n?he(e):c(o.source)}function Lt(){const e={};function t(){lt(()=>{for(var n in e)e[n].unsubscribe();ct(e,xe,{enumerable:!1,value:!0})})}return[e,t]}function Yt(e,t,n){return e.set(n),t}function Xt(e){var t=ie;try{return ie=!1,[e(),ie]}finally{ie=t}}function Le(e){for(var t=ue,n=ue;t!==null&&!(t.f&(mt|ht));)t=t.parent;try{return Ee(t),e()}finally{Ee(n)}}function Dt(e,t,n,o){var M;var i=(n&wt)!==0,p=!bt||(n&_t)!==0,m=(n&xt)!==0,h=!1,g;[g,h]=Xt(()=>e[t]);var b=gt in e||vt in e,l=(((M=dt(e,t))==null?void 0:M.set)??(b&&t in e&&(x=>e[t]=x)))||void 0,_=o,v=!0,R=!1,w=()=>(R=!0,v&&(v=!1,_=o),_),P;if(p)P=()=>{var x=e[t];return x===void 0?w():(v=!0,R=!1,x)};else{var X=Le(()=>(i?Ue:re)(()=>e[t]));X.f|=ft,P=()=>{var x=c(X);return x!==void 0&&(_=void 0),x===void 0?_:x}}if(l){var I=e.$$legacy;return function(x,T){return arguments.length>0?((!p||!T||I||h)&&l(T?P():x),x):P()}}var U=!1,F=!1,D=ye(g),k=Le(()=>Ue(()=>{var x=P(),T=c(D);return U?(U=!1,F=!0,T):(F=!1,D.v=x)}));return k.equals=pt,function(x,T){if(yt!==null&&(U=F,P(),c(D)),arguments.length>0){const L=T?c(k):p&&m?Et(x):x;return k.equals(L)||(U=!0,V(D,L),R&&_!==void 0&&(_=L),le(()=>c(k))),x}return c(k)}}const We=(e,t)=>{switch(e){case $.afktimer:case $.buff:case $.craftingprogress:case $.model:case $.position:case $.stat:return!1;case $.chat:case $.popup:return;case $.xpgain:return t?!1:void 0}},H=[];for(let e=0;e<256;++e)H.push((e+256).toString(16).slice(1));function Mt(e,t=0){return(H[e[t+0]]+H[e[t+1]]+H[e[t+2]]+H[e[t+3]]+"-"+H[e[t+4]]+H[e[t+5]]+"-"+H[e[t+6]]+H[e[t+7]]+"-"+H[e[t+8]]+H[e[t+9]]+"-"+H[e[t+10]]+H[e[t+11]]+H[e[t+12]]+H[e[t+13]]+H[e[t+14]]+H[e[t+15]]).toLowerCase()}let me;const Ct=new Uint8Array(16);function Nt(){if(!me){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");me=crypto.getRandomValues.bind(crypto)}return me(Ct)}const Ft=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ye={randomUUID:Ft};function ce(e,t,n){var i;if(Ye.randomUUID&&!e)return Ye.randomUUID();e=e||{};const o=e.random??((i=e.rng)==null?void 0:i.call(e))??Nt();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Mt(o)}const qt=()=>fetch("https://bolt-api/send-message",{method:"POST",body:new Uint8Array([1,0])});var Bt=(e,t,n)=>t(c(n),!1),Vt=Z('<button class="h-[14px] w-[14px] pointer-events-auto"><img src="plugin://app/images/caret-down-solid.svg" class="w-full h-full" alt="Hide"></button>'),jt=(e,t,n)=>t(c(n),!0),Wt=Z('<button class="h-[14px] w-[14px] pointer-events-auto"><img src="plugin://app/images/caret-down-solid.svg" class="w-full h-full rotate-270" alt="Expand"></button>'),zt=(e,t,n)=>t(c(n)),Gt=(e,t,n)=>t(c(n)),Jt=(e,t,n)=>t(c(n)),Kt=(e,t,n)=>t(c(n)),Qt=(e,t,n,o)=>t(c(n),c(o)),Zt=(e,t,n,o)=>t(c(n),c(o)),en=(e,t,n,o)=>t(c(n),c(o)),tn=Z('<div> <button class="absolute rounded-lg right-0 top-0 h-[18px] w-[18px] hover:bg-red-500 pointer-events-auto py-0 by-0" title="Delete"><img src="plugin://app/images/xmark-solid.svg" class="w-full h-full" alt="Delete"></button> <button class="absolute rounded-lg right-[14px] top-0 h-[18px] w-[18px] hover:bg-blue-400 pointer-events-auto py-0 by-0" title="Edit"><img src="plugin://app/images/gear-solid.svg" class="absolute top-[3px] left-[3px] w-[12px] h-[12px]" alt="Edit"></button> <button class="absolute rounded-lg right-[27px] top-0 h-[18px] w-[18px] hover:bg-blue-400 pointer-events-auto py-0 by-0"><img class="absolute top-[2px] left-[2px] w-[14px] h-[14px]"></button></div>'),nn=Z('<div><!> <button class="absolute rounded-lg right-0 top-0 h-[18px] w-[18px] hover:bg-red-500 pointer-events-auto py-0 by-0" title="Delete"><img src="plugin://app/images/xmark-solid.svg" class="w-full h-full" alt="Delete"></button> <button class="absolute rounded-lg right-[14px] top-0 h-[18px] w-[18px] hover:bg-blue-400 pointer-events-auto py-0 by-0" title="Edit"><img src="plugin://app/images/gear-solid.svg" class="absolute top-[3px] left-[3px] w-[12px] h-[12px]" alt="Edit"></button> <button class="absolute rounded-lg right-[27px] top-0 h-[18px] w-[18px] hover:bg-blue-400 pointer-events-auto py-0 by-0"><img class="absolute top-[2px] left-[2px] w-[14px] h-[14px]"></button> <button class="absolute rounded-lg right-[40px] top-0 h-[18px] w-[18px] hover:bg-emerald-400 pointer-events-auto py-0 by-0" title="Add rule"><img src="plugin://app/images/plus-solid.svg" class="absolute top-[3px] left-[3px] w-[12px] h-[12px]" alt="Add rule"></button></div> <!>',1),an=(e,t)=>V(t,!0),rn=Z("<button>Enable sounds</button>"),sn=Z('<div><!> <!> <button class="rounded-sm m-1 px-2 py-1 bg-emerald-400 pointer-events-auto hover:opacity-75">Add ruleset</button></div>');function on(e,t){Ne(t,!1);const[n,o]=Lt(),i=()=>Tt(l(),"$list",n);let p=ae(!1),m=ae(!0);setInterval(()=>{V(m,!c(m))},350);const h=(a,r)=>{let s=0;const u=y=>{r&&r.setUint8(s,y?1:0),s+=1},d=y=>{r&&r.setUint32(s,y,!0),s+=4},E=y=>{r&&r.setInt32(s,y,!0),s+=4},O=y=>{const f=new TextEncoder().encode(y);if(d(y.length),r)for(let A=0;A<f.byteLength;A+=1)r.setUint8(s+A,f[A]);s+=f.byteLength};d(a.length);for(const y of a){O(y.id),u(y.paused),u(y.alert),u(y.doFlashWindow),u(y.onlyIfUnfocused),d(Object.keys(y.rules).length);for(const f of Object.values(y.rules)){O(f.id),O(f.ruletype);const A=typeof f.alert=="boolean",j=typeof f.number=="number",q=typeof f.ref=="string",W=typeof f.comparator=="string",J=typeof f.find=="string",K=typeof f.regionX1=="number",Q=typeof f.regionX2=="number",Y=typeof f.regionY1=="number",N=typeof f.regionY2=="number",se=typeof f.regionH1=="number",oe=typeof f.regionH2=="number",C=typeof f.regionIsInside=="boolean";u(f.paused),u(A),A&&u(f.alert===!0),u(j),j&&E(f.number),u(q),q&&O(f.ref),u(W),W&&O(f.comparator),u(J),J&&O(f.find),u(K),K&&E(f.regionX1),u(Q),Q&&E(f.regionX2),u(Y),Y&&E(f.regionY1),u(N),N&&E(f.regionY2),u(se),se&&E(f.regionH1),u(oe),oe&&E(f.regionH2),u(C),C&&u(f.regionIsInside===!0)}}return s};window.addEventListener("message",a=>{if(!a.data||typeof a.data!="object"||a.data.type!=="pluginMessage")return;const r=new Uint16Array(a.data.content.slice(0,2))[0];switch(r){case 1:{const s=new URLSearchParams(new TextDecoder().decode(a.data.content.slice(2)));let u=s.get("id"),d=null;u?d=he(l())[u]:u=ce(),Yt(l(),le(i)[u]={id:u,name:s.get("name"),paused:d?d.paused:!1,rules:d?d.rules:{},expanded:d?d.expanded:!1,alert:d?d.alert:!1,doFlashWindow:s.get("flash_window")==="1",sound:s.get("sound")??void 0,volume:parseInt(s.get("volume")),onlyIfUnfocused:s.get("only_if_unfocused")==="1"},le(i));break}case 2:{const s=new URLSearchParams(new TextDecoder().decode(a.data.content.slice(2))),u=i(),d=u[s.get("ruleset_id")];let E=s.get("id"),O=null;E?O=d.rules[E]:E=ce();const y=s.get("number"),f=s.get("type"),A=s.get("region_x1"),j=s.get("region_x2"),q=s.get("region_y1"),W=s.get("region_y2"),J=s.get("region_h1"),K=s.get("region_h2"),Q=s.get("region_is_inside");d.rules[E]={id:E,ruletype:f,paused:O?O.paused:!1,alert:O?O.alert:We(f,!!y),number:y?parseInt(y):void 0,ref:s.get("ref")??void 0,comparator:s.get("comparator")??void 0,find:s.get("find")??void 0,exacttext:s.get("exacttext")??void 0,regionX1:A?parseInt(A):void 0,regionX2:j?parseInt(j):void 0,regionY1:q?parseInt(q):void 0,regionY2:W?parseInt(W):void 0,regionH1:J?parseInt(J):void 0,regionH2:K?parseInt(K):void 0,regionIsInside:typeof Q=="string"?Q!=="0":void 0},d.expanded=!0,l().set(u);break}case 3:{const s=i(),u=new URLSearchParams(new TextDecoder().decode(a.data.content.slice(2))),d=s[u.get("ruleset_id")],E=d.rules[u.get("rule_id")],O=u.get("alert")==="1",y=typeof E.alert=="boolean";y&&(E.alert=O);let f=!1;for(let A of Object.values(d.rules))A.alert&&(f=!0);if((f&&!d.alert||O&&!y)&&d.sound&&c(p)){const A=new Audio("plugin://app/sounds/".concat(d.sound));A.volume=Math.min(Math.max(d.volume/100,0),1),A.play()}d.alert=f,V(g,!1),V(b,!1),l().set(s);break}default:console.error(`unknown message type ${r}`)}});let g=ae(!1),b=ae(!0),l=Dt(t,"list",12);const _=a=>{let r={id:a.id,name:a.name,only_if_unfocused:a.onlyIfUnfocused?"1":"0",flash_window:a.doFlashWindow?"1":"0",volume:a.volume.toString()};a.sound&&(r.sound=a.sound);const s="\0".concat(new URLSearchParams(r).toString());fetch("https://bolt-api/send-message",{method:"POST",body:s})},v=a=>{let r={ruleset_id:a.id};const s="\0".concat(new URLSearchParams(r).toString());fetch("https://bolt-api/send-message",{method:"POST",body:s})},R=(a,r)=>{let s={ruleset_id:a.id,id:r.id,type:r.ruletype};r.number&&(s.number=r.number.toString()),r.ref&&(s.ref=r.ref),r.comparator&&(s.comparator=r.comparator),r.find&&(s.find=r.find),r.exacttext&&(s.exacttext=r.exacttext),r.regionX1&&(s.region_x1=r.regionX1.toString()),r.regionX2&&(s.region_x2=r.regionX2.toString()),r.regionY1&&(s.region_y1=r.regionY1.toString()),r.regionY2&&(s.region_y2=r.regionY2.toString()),r.regionH1&&(s.region_h1=r.regionH1.toString()),r.regionH2&&(s.region_h2=r.regionH2.toString()),typeof r.regionIsInside=="boolean"&&(s.region_is_inside=r.regionIsInside?"1":"0");const u="\0".concat(new URLSearchParams(s).toString());fetch("https://bolt-api/send-message",{method:"POST",body:u})},w=a=>{const r=he(l());delete r[a.id],l().set(r)},P=a=>{if(a.alert=!1,!a.paused)for(const r of Object.values(a.rules))r.alert&&!r.paused&&(a.alert=!0)},X=(a,r)=>{delete a.rules[r.id],P(a),l().set(i())},I=(a,r)=>{a.paused=!a.paused,a.alert&&a.paused&&(a.alert=!1,P(r)),l().set(i())},U=a=>{a.paused=!a.paused,P(a),l().set(i())},F=(a,r)=>{a.expanded=r,l(l())},D=a=>{switch(a.ruletype){case $.afktimer:return typeof a.number!="number"?"afk timer":`afk timer (${Math.floor(a.number/1e6)} sec)`;case $.buff:switch(a.comparator){case"active":return`buff '${a.ref}' active`;case"inactive":return`buff '${a.ref}' inactive`;case"lessthan":return`buff '${a.ref}' < ${a.number}`;case"greaterthan":return`buff '${a.ref}' > ${a.number}`;case"parenslessthan":return`buff '${a.ref}' parentheses < ${a.number}`;case"parenscreaterthan":return`buff '${a.ref}' parentheses > ${a.number}`;default:return`buff '${a.ref}'`}case $.chat:return`chat text: '${a.exacttext??a.find}'`;case $.craftingprogress:return typeof a.number!="number"?"crafting progress":`crafting progress: ${a.number}%`;case $.model:return`3D model: '${a.ref}'`;case $.popup:return`popup text: '${a.exacttext??a.find}'`;case $.position:return"player position";case $.stat:return typeof a.number!="number"?`stat '${a.ref}'`:`stat '${a.ref}' < ${a.number}%`;case $.xpgain:return typeof a.number!="number"?"xp gain":`xp gain timeout (${Math.floor(a.number/1e6)} sec)`;default:return"unknown"}};It(()=>(i(),c(b),c(g)),()=>{const a=i();if(c(b)&&(c(g)||Object.keys(a).length>0)){const r=Object.values(a),s=h(r,null),u=new ArrayBuffer(s+2);new DataView(u,0,2).setUint16(0,5,!0),h(r,new DataView(u,2,s)),fetch("https://bolt-api/send-message",{method:"POST",body:u})}if(c(g)){const r=Object.values(a).map(u=>({name:u.name,paused:u.paused,rules:Object.values(u.rules).map(d=>({ruletype:d.ruletype,paused:d.paused,number:d.number,ref:d.ref,comparator:d.comparator,find:d.find,exacttext:d.exacttext,regionX1:d.regionX1,regionX2:d.regionX2,regionY1:d.regionY1,regionY2:d.regionY2,regionH1:d.regionH1,regionH2:d.regionH2,regionIsInside:d.regionIsInside})),doFlashWindow:u.doFlashWindow,sound:u.sound,volume:u.volume,onlyIfUnfocused:u.onlyIfUnfocused})),s="\0".concat(JSON.stringify(r));fetch("https://bolt-api/send-message",{method:"POST",body:s})}else V(g,!0);V(b,!0)}),kt(),Fe();var k=sn(),M=B(k);Oe(M,1,()=>Object.values(i()),Pe,(a,r,s)=>{var u=nn(),d=Ae(u),E=B(d);{var O=Y=>{var N=Vt();N.__click=[Bt,F,r],z(Y,N)},y=Y=>{var N=Wt();N.__click=[jt,F,r],z(Y,N)};ge(E,Y=>{c(r).expanded?Y(O):Y(y,!1)})}var f=S(E),A=S(f);A.__click=[zt,w,r];var j=S(A,2);j.__click=[Gt,_,r];var q=S(j,2);q.__click=[Jt,U,r];var W=B(q),J=S(q,2);J.__click=[Kt,v,r];var K=S(d,2);{var Q=Y=>{var N=Rt(),se=Ae(N);Oe(se,1,()=>Object.values(c(r).rules),Pe,(oe,C)=>{var de=tn(),we=B(de),Ie=S(we);Ie.__click=[Qt,X,r,C];var ke=S(Ie,2);ke.__click=[Zt,R,r,C];var fe=S(ke,2);fe.__click=[en,I,C,r];var Re=B(fe);ve((ze,Ge)=>{_e(de,be(ze)),$e(we,`${Ge??""} `),ee(fe,"title",c(C).paused?"Resume":"Pause"),ee(Re,"src",c(C).paused?"plugin://app/images/play-solid.svg":"plugin://app/images/pause-solid.svg"),ee(Re,"alt",c(C).paused?"Resume":"Pause")},[()=>"relative px-1 w-full text-[8pt] h-[19px] ".concat(c(C).paused||c(r).paused?"bg-gray-500":c(C).alert&&c(m)?"bg-red-400":s&1?"bg-gray-200":"bg-gray-300"),()=>D(c(C))],re),z(oe,de)}),z(Y,N)};ge(K,Y=>{c(r).expanded&&Y(Q)})}ve(Y=>{_e(d,be(Y)),$e(f,` ${c(r).name??""} `),ee(q,"title",c(r).paused?"Resume":"Pause"),ee(W,"src",c(r).paused?"plugin://app/images/play-solid.svg":"plugin://app/images/pause-solid.svg"),ee(W,"alt",c(r).paused?"Resume":"Pause")},[()=>"relative w-full text-[8pt] h-[19px] ".concat(c(r).paused?"bg-gray-500":c(r).alert&&c(m)?"bg-red-400":s&1?"bg-gray-200":"bg-gray-300")],re),z(a,u)});var x=S(M,2);{var T=a=>{var r=rn();r.__click=[an,p],ve(s=>_e(r,be(s)),[()=>"rounded-sm m-1 px-2 py-1 pointer-events-auto hover:opacity-75 ".concat(c(m)?"bg-red-400":"bg-blue-400")],re),z(a,r)};ge(x,a=>{c(p)||a(T)})}var L=S(x,2);L.__click=[qt],z(e,k),qe(),o()}Ce(["click"]);const un=()=>fetch("https://bolt-api/close-request");var ln=(e,t)=>{e.button===0&&t("-1","-1")},cn=(e,t)=>{e.button===0&&t("0","-1")},dn=(e,t)=>{e.button===0&&t("1","-1")},fn=(e,t)=>{e.button===0&&t("-1","0")},pn=(e,t)=>{e.button===0&&t("1","0")},gn=(e,t)=>{e.button===0&&t("-1","1")},vn=(e,t)=>{e.button===0&&t("0","1")},bn=(e,t)=>{e.button===0&&t("1","1")},_n=(e,t)=>{e.button===0&&t("0","0")},mn=Z('<main><div class="absolute grid grid-cols-[5px_auto_5px] grid-rows-[5px_auto_5px] top-0 left-0 bottom-0 right-0 z-100 pointer-events-none"><div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="pointer-events-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div> <div class="bg-black pointer-events-auto select-none"></div></div> <div class="m-[7px] w-auto h-auto"><div class="m-0 p-0 border-b border-black absolute top-[5px] right-[5px] w-[18px] h-[19px]"><button class="m-0 p-0 absolute top-0 left-0 w-full h-full select-none text-center text-[12px] bg-[hsl(0,70%,50%)] hover:bg-[hsl(0,100%,50%)]">X</button></div> <div class="m-0 p-0 border-b border-black absolute left-[5px] top-[5px] right-[23px] h-[19px] bg-[grey] text-center text-[10pt]"><p class="m-0 p-0 color-black select-none pointer-events-none">Alerts</p></div> <div class="fixed top-[24px] bottom-[6px] left-[5px] right-[5px] text-[10pt] pointer-events-none"><!></div></div></main>');function hn(e,t){Ne(t,!1);const n=new URLSearchParams(window.location.search);let o=ae((k=>{const M=k.get("list");if(!M)return Te({});const x=JSON.parse(atob(M));let T={};for(const L of x){let a={};for(const s of L.rules){const u=ce(),d=s.ruletype;a[u]={id:u,ruletype:d,paused:s.paused??!1,alert:We(d,!!s.number),number:s.number,ref:s.ref,comparator:s.comparator,find:s.find,exacttext:s.exacttext,regionX1:s.regionX1,regionX2:s.regionX2,regionY1:s.regionY1,regionY2:s.regionY2,regionH1:s.regionH1,regionH2:s.regionH2,regionIsInside:s.regionIsInside}}const r=ce();T[r]={id:r,name:L.name,paused:L.paused??!1,rules:a,expanded:!1,alert:!1,doFlashWindow:L.doFlashWindow,sound:L.sound,volume:L.volume,onlyIfUnfocused:L.onlyIfUnfocused}}return Te(T)})(n));const i=(k,M)=>fetch("https://bolt-api/start-reposition?".concat(new URLSearchParams({h:k,v:M}).toString()));Fe();var p=mn(),m=B(p),h=B(m);h.__mousedown=[ln,i];var g=S(h,2);g.__mousedown=[cn,i];var b=S(g,2);b.__mousedown=[dn,i];var l=S(b,2);l.__mousedown=[fn,i];var _=S(l,4);_.__mousedown=[pn,i];var v=S(_,2);v.__mousedown=[gn,i];var R=S(v,2);R.__mousedown=[vn,i];var w=S(R,2);w.__mousedown=[bn,i];var P=S(m,2),X=B(P),I=B(X);I.__click=[un];var U=S(X,2);U.__mousedown=[_n,i];var F=S(U,2),D=B(F);on(D,{get list(){return c(o)},set list(k){V(o,k)},$$legacy:!0}),z(e,p),qe()}Ce(["mousedown","click"]);St(hn,{target:document.body});
