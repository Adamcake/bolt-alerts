import{M as te,N as ae,O as c,g as t,U as le,V as v,W as z,X as a,_ as h,a0 as D,Y as m,Z as oe,x as s,$ as se,a1 as ne,a3 as ie}from"./legacy-DeEc6geK.js";import{s as l}from"./attributes-BQxI1Y4V.js";import{b as P,a as T}from"./input-BIF1Ei3G.js";const re=(_,d)=>fetch("https://bolt-api/send-message",{method:"POST",body:d()}),ce=()=>fetch("https://bolt-api/close-request");var de=v('<p class="text-[16pt] font-bold">New Ruleset</p> <p class="text-[10pt]">A ruleset decides how you want to be alerted. It can have any number of rules in it and the alert will be sent when any of those rules becomes active.</p>',1),pe=v('<p class="text-[16pt] font-bold">Edit Ruleset</p>'),be=(_,d,o)=>{t(d)?s(o,"ding.wav"):s(o,null)},ue=v('<br> <label for="5" class="font-italic">Sound name:</label> <br> <input id="5" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0 disabled:border-gray-500"> <br> <label for="6" class="font-italic"> </label> <br> <input id="6" type="range">',1),fe=v('<div class="mx-2 my-1 p-0 b-0 text-gray-200"><!> <hr class="my-4 opacity-40"> <div class="text-[8pt] w-auto select-none"><label for="1" class="font-italic">Ruleset name:</label> <br> <input id="1" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0"> <br><br> <input id="2" type="checkbox"> <label for="2" class="font-italic">Alert only if unfocused</label> <br><br> <input id="3" type="checkbox"> <label for="3" class="font-italic">Flash window</label> <br><br> <input id="4" type="checkbox"> <label for="4" class="font-italic">Play a sound</label> <!></div> <span><button class="w-25 bg-red-500 rounded-sm py-1 px-2 mr-1 mt-4 font-bold text-white text-center hover:opacity-75">Cancel</button> <button class="w-25 bg-blue-500 rounded-sm py-1 px-2 mt-4 font-bold text-white text-center enabled:hover:opacity-75 disabled:bg-gray-500">Save</button></span></div>');function he(_,d){ae(d,!1);let o=new URLSearchParams(window.location.search),U=o.get("volume"),y=o.get("id"),p=c(o.get("name")??"New Ruleset"),w=c(o.get("only_if_unfocused")==="1"),x=c(o.get("flash_window")==="1"),n=c(o.get("sound")),i=c(t(n)!==null),b=c(U?parseInt(U):100);const I="how this ruleset will be identified in the main window",N="if checked, alert only if the game window is out-of-focus, otherwise always alert",V="if checked, flash in the taskbar when this ruleset alerts",W="if checked, play a sound when this ruleset alerts (more sound options below)",A="name of the sound file in the sounds directory",G=()=>{let e={name:t(p),flash_window:t(x)?"1":"0",volume:t(b).toString(),only_if_unfocused:t(w)?"1":"0"};return t(i)&&t(n)&&(e.sound=t(n)),y&&(e.id=y),"\0".concat(new URLSearchParams(e).toString())};le();var F=fe(),L=h(F);{var H=e=>{var r=de();m(e,r)},J=e=>{var r=pe();m(e,r)};z(L,e=>{y===null?e(H):e(J,!1)})}var O=a(L,4),q=h(O);l(q,"title",I);var g=a(q,4);l(g,"title",I);var k=a(g,5);l(k,"title",N);var B=a(k,2);l(B,"title",N);var S=a(B,5);l(S,"title",V);var C=a(S,2);l(C,"title",V);var u=a(C,5);l(u,"title",W),u.__change=[be,i,n];var E=a(u,2);l(E,"title",W);var K=a(E,2);{var Q=e=>{var r=ue(),Y=a(se(r),2);l(Y,"title",A);var f=a(Y,4);f.disabled=!0,l(f,"title",A);var Z=a(f,4),ee=h(Z),j=a(Z,4);D(()=>{ne(ee,`Volume: ${t(b)??""}%`),j.disabled=!t(i)}),P(f,()=>t(n),R=>s(n,R)),P(j,()=>t(b),R=>s(b,R)),m(e,r)};z(K,e=>{t(i)&&e(Q)})}var $=a(O,2),M=h($);M.__click=[ce];var X=a(M,2);X.__click=[re,G],D(()=>X.disabled=t(p).length===0),P(g,()=>t(p),e=>s(p,e)),T(k,()=>t(w),e=>s(w,e)),T(S,()=>t(x),e=>s(x,e)),T(u,()=>t(i),e=>s(i,e)),m(_,F),oe()}te(["change","click"]);ie(he,{target:document.body});
