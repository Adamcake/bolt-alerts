import{a6 as Ro,M as Jo,N as Qo,O as S,g as o,x as l,Q as Yo,T as Zo,U as zo,V as w,W as E,X as e,_ as g,a0 as U,a7 as N,Y as _,Z as $o,$ as x,a2 as ue,a3 as ea}from"./legacy-mJe-Rq-b.js";import{l as oa,b as $}from"./input-BmSXsotX.js";import{i as aa,R as a}from"./interfaces-DAiCiEuy.js";function Lo(t,u,i){if(t.multiple)return la(t,u);for(var n of t.options){var d=se(n);if(aa(d,u)){n.selected=!0;return}}(!i||u!==void 0)&&(t.selectedIndex=-1)}function ta(t,u){Ro(()=>{var i=new MutationObserver(()=>{var n=t.__value;Lo(t,n)});return i.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function J(t,u,i=u){var n=!0;oa(t,"change",d=>{var T=d?"[selected]":":checked",B;if(t.multiple)B=[].map.call(t.querySelectorAll(T),se);else{var Q=t.querySelector(T)??t.querySelector("option:not([disabled])");B=Q&&se(Q)}i(B)}),Ro(()=>{var d=u();if(Lo(t,d,n),n&&d===void 0){var T=t.querySelector(":checked");T!==null&&(d=se(T),i(d))}t.__value=d,n=!1}),ta(t)}function la(t,u){for(var i of t.options)i.selected=~u.indexOf(se(i))}function se(t){return"__value"in t?t.__value:t.value}const na=(t,u,i,n,d,T,B)=>{switch(o(u)){case a.afktimer:l(i,60*14),l(n,o(i)*1e6);break;case a.buff:l(d,null),l(n,null),l(T,null);break;case a.chat:l(B,null);break;case a.model:l(d,null);break;case a.popup:l(B,null);break;case a.stat:l(d,null),l(n,null);break;case a.xpgain:l(n,null);break}},ra=(t,u)=>fetch("https://bolt-api/send-message",{method:"POST",body:u()}),ia=()=>fetch("https://bolt-api/close-request");var pa=w('<p class="text-[16pt] font-bold">New Rule</p> <p class="text-[10pt]">A rule decides when you want to be alerted. When this condition becomes active, the ruleset will send you an alert.</p>',1),ua=w('<p class="text-[16pt] font-bold">Edit Rule</p>'),sa=(t,u,i)=>l(u,Math.floor(o(i)*1e6)),va=w('<label for="2">Timeout (seconds):</label> <br> <input id="2" type="number" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),_a=w('<label for="5">This number:</label> <br> <input id="5" type="number" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),ca=w(`<label for="3">Buff or debuff:</label> <br> <select id="3" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><optgroup class="text-black" label="Potions"><option>Adrenaline Potion Cooldown</option> <option>Aggression Potion</option> <option>Antifire</option> <option>Antipoison</option> <option>Overload</option> <option>Perfect Plus</option> <option>Poisonous</option> <option>Powerburst Cooldown</option> <option>Prayer Renewal</option> <option>Spirit Attraction Potion</option></optgroup><optgroup class="text-black" label="Powders"><option>Powder of Burials</option> <option>Powder of Defence</option> <option>Powder of Item Protection</option> <option>Powder of Penance</option> <option>Powder of Protection</option> <option>Powder of Pulverising</option></optgroup><optgroup class="text-black" label="Incense"><option>Avantoe Incense</option> <option>Cadantine Incense</option> <option>Dwarfweed Incense</option> <option>Fellstalk Incense</option> <option>Guam Incense</option> <option>Harralander Incense</option> <option>Irit Incense</option> <option>Kwuarm Incense</option> <option>Lantadyme Incense</option> <option>Marrentill Incense</option> <option>Ranarr Incense</option> <option>Snapdragon Incense</option> <option>Spiritweed Incense</option> <option>Tarromin Incense</option> <option>Toadflax Incense</option> <option>Torstol Incense</option> <option>Wergali Incense</option></optgroup><optgroup class="text-black" label="Miscellaneous"><option>Animate Dead</option> <option>Archaeologist's Tea</option> <option>Aura</option> <option>Bonfire</option> <option>Cannonballs</option> <option>Cannon Timer</option> <option>Cinder Core</option> <option>Clan Citadel Buff</option> <option>Crystal Mask</option> <option>Darkness</option> <option>Elven Ritual Shard Cooldown</option> <option>Excalibur Cooldown</option> <option>Firelighter</option> <option>God Book</option> <option>Grimoire</option> <option>Hi-spec Monocle</option> <option>Love Letter</option> <option>Luminite Injector</option> <option>Material Manual</option> <option>Porter</option> <option>Protean Powerup</option> <option>Pulse Core</option> <option>Roar of Osseous</option> <option>Rock of Resilience</option> <option>Scrimshaw</option> <option>Sign of Life</option> <option>Stone of Jas (glacor cavern)</option> <option>Summon</option> <option>Tarpaulin Sheet</option> <option>Valentine's Flip</option> <option>Valentine's Slam</option> <option>Wise Perk</option></optgroup></select> <br><br> <label for="4">Alert when the buff is:</label> <br> <select id="4" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">Active</option><option class="text-black">Inactive</option><option class="text-black">Less than</option><option class="text-black">Greater than</option><option class="text-black">Parentheses less than</option><option class="text-black">Parentheses greater than</option></select> <br> <!>`,1),fa=(t,u,i,n)=>l(u,i(o(n))),da=w('<label for="7">Text:</label> <br> <input id="7" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),ba=w('<label for="7">Pattern:</label> <br> <input id="7" type="text" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),xa=w('<label for="6">Match type:</label> <br> <select id="6" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">Exact</option><option class="text-black">Pattern</option></select> <br><br> <!>',1),ma=w('<label for="8">Model:</label> <br> <select id="8" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">Elidinis spirits</option><option class="text-black">Elite slayer mobs</option><option class="text-black">Fire spirits</option><option class="text-black">Penguin agents 001-007</option><option class="text-black">Seren spirits</option></select>',1),ga=w('<label for="9">Stat:</label> <br> <select id="9" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">Health</option><option class="text-black">Adrenaline</option><option class="text-black">Prayer</option><option class="text-black">Summoning</option></select> <br><br> <label for="a">Threshold (percent):</label> <br> <input id="a" type="number" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),ha=(t,u,i)=>l(u,Math.floor(o(i)*1e6)),wa=w('<br><br> <label for="c">Timeout (seconds):</label> <br> <input id="c" type="number" class="border-gray-200 text-[12pt] border-1 w-full max-w-[260px] px-[3px] py-[2px] border-black focus:border-3 focus:px-[1px] focus:py-0">',1),ya=w('<label for="b">Mode:</label> <br> <select id="b" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">Alert on XP gain</option><option class="text-black">Alert on timeout</option></select> <!>',1),ka=w('<div class="mx-2 my-1 p-0 b-0 text-gray-200"><!> <hr class="my-4 opacity-40"> <div class="text-[8pt] w-auto"><label for="1" class="font-italic">Rule type:</label> <br> <select id="1" class="border-1 px-[3px] py-[2px] border-white text-white text-[10pt] focus:border-3 focus:px-[1px] focus:py-0"><option class="text-black">AFK timer</option><option class="text-black">Buffs/debuffs</option><option class="text-black">Chat text</option><option class="text-black">3D object</option><option class="text-black">Popup text</option><option class="text-black">Stat bars</option><option class="text-black">XP gain</option></select> <br><br> <!></div> <span><button class="w-25 bg-red-500 rounded-sm py-1 px-2 mr-1 mt-4 font-bold text-white text-center hover:opacity-75">Cancel</button> <button class="w-25 bg-blue-500 rounded-sm py-1 px-2 mt-4 font-bold text-white text-center enabled:hover:opacity-75 disabled:bg-gray-500">Save</button></span></div>');function Pa(t,u){Qo(u,!1);const i=S();let n=new URLSearchParams(window.location.search),d=n.get("type"),T=n.get("number"),B=n.get("exacttext"),Q=n.get("id"),Eo=n.get("ruleset_id"),p=S(d||null),v=S(T?parseInt(T):null),b=S(n.get("ref")),h=S(n.get("comparator")),C=S(n.get("find")),ee=S(),oe=S(o(C)===null||B!==null),ae=S(B??""),X=S(null),ve=S();o(p)===a.afktimer&&o(v)?l(ee,Math.floor(o(v)/1e6)):o(p)===a.xpgain&&o(v)&&l(ve,Math.floor(o(v)/1e6));const Bo=r=>"^".concat(o(ae).replaceAll("%","%%").replaceAll("(","%(").replaceAll(")","%)").replaceAll(".","%.").replaceAll("+","%+").replaceAll("-","%-").replaceAll("*","%*").replaceAll("?","%?").replaceAll("[","%[").replaceAll("^","%^").replaceAll("$","%$")),jo=()=>{let r={ruleset_id:Eo,type:o(p)};return Q&&(r.id=Q),o(v)&&(r.number=o(v).toString()),o(b)&&(r.ref=o(b)),o(h)&&(r.comparator=o(h)),o(C)&&(r.find=o(C)),o(oe)&&(r.exacttext=o(ae)),"\0".concat(new URLSearchParams(r).toString())};Yo(()=>(o(p),o(v),o(b),o(h),o(C),o(X)),()=>{l(i,o(p)===a.afktimer&&o(v)!==null||o(p)===a.buff&&o(b)!==null&&o(h)!==null&&(o(v)!==null||o(h)==="active"||o(h)==="inactive")||o(p)===a.chat&&o(C)!==null||o(p)===a.model&&o(b)!==null||o(p)===a.popup&&o(C)!==null||o(p)===a.stat&&o(b)!==null&&o(v)!==null||o(p)===a.xpgain&&(o(v)!==null&&o(X)===!0||o(X)===!1))}),Zo(),zo();var co=ka(),fo=g(co);{var qo=r=>{var j=pa();_(r,j)},Fo=r=>{var j=ua();_(r,j)};E(fo,r=>{Q===null?r(qo):r(Fo,!1)})}var bo=e(fo,4),_e=e(g(bo),4);U(()=>{o(p),N(()=>{})}),_e.__change=[na,p,ee,v,b,h,C];var de=g(_e),xo={},be=e(de),mo={},xe=e(be),go={},me=e(xe),ho={},ge=e(me),wo={},he=e(ge),yo={},ko=e(he),Po={},Go=e(_e,5);{var Oo=r=>{var j=va(),ce=e(x(j),4);ce.__change=[sa,v,ee],$(ce,()=>o(ee),we=>l(ee,we)),_(r,j)},Do=r=>{var j=ue(),ce=x(j);{var we=Y=>{var te=ca(),le=e(x(te),4);U(()=>{o(b),N(()=>{})});var fe=g(le),ne=g(fe);ne.value=(ne.__value="noadrenalinepotion")==null?"":"noadrenalinepotion";var M=e(ne,2);M.value=(M.__value="aggressionpotion")==null?"":"aggressionpotion";var q=e(M,2);q.value=(q.__value="antifire")==null?"":"antifire";var F=e(q,2);F.value=(F.__value="antipoison")==null?"":"antipoison";var G=e(F,2);G.value=(G.__value="overload")==null?"":"overload";var H=e(G,2);H.value=(H.__value="perfectplus")==null?"":"perfectplus";var y=e(H,2);y.value=(y.__value="poisonous")==null?"":"poisonous";var P=e(y,2);P.value=(P.__value="nopowerburst")==null?"":"nopowerburst";var R=e(P,2);R.value=(R.__value="prayerrenewal")==null?"":"prayerrenewal";var c=e(R,2);c.value=(c.__value="spiritattractionpotion")==null?"":"spiritattractionpotion";var m=e(fe),s=g(m);s.value=(s.__value="powderofburials")==null?"":"powderofburials";var f=e(s,2);f.value=(f.__value="powderofdefence")==null?"":"powderofdefence";var k=e(f,2);k.value=(k.__value="powderofitemprotection")==null?"":"powderofitemprotection";var A=e(k,2);A.value=(A.__value="powderofpenance")==null?"":"powderofpenance";var I=e(A,2);I.value=(I.__value="powderofprotection")==null?"":"powderofprotection";var O=e(I,2);O.value=(O.__value="powderofpulverising")==null?"":"powderofpulverising";var D=e(m),V=g(D);V.value=(V.__value="incenseavantoe")==null?"":"incenseavantoe";var L=e(V,2);L.value=(L.__value="incensecadantine")==null?"":"incensecadantine";var re=e(L,2);re.value=(re.__value="incensedwarfweed")==null?"":"incensedwarfweed";var ie=e(re,2);ie.value=(ie.__value="incensefellstalk")==null?"":"incensefellstalk";var W=e(ie,2);W.value=(W.__value="incenseguam")==null?"":"incenseguam";var Z=e(W,2);Z.value=(Z.__value="incenseharralander")==null?"":"incenseharralander";var z=e(Z,2);z.value=(z.__value="incenseirit")==null?"":"incenseirit";var pe=e(z,2);pe.value=(pe.__value="incensekwuarm")==null?"":"incensekwuarm";var ye=e(pe,2);ye.value=(ye.__value="incenselantadyme")==null?"":"incenselantadyme";var ke=e(ye,2);ke.value=(ke.__value="incensemarrentill")==null?"":"incensemarrentill";var Pe=e(ke,2);Pe.value=(Pe.__value="incenseranarr")==null?"":"incenseranarr";var Ae=e(Pe,2);Ae.value=(Ae.__value="incensesnapdragon")==null?"":"incensesnapdragon";var Ie=e(Ae,2);Ie.value=(Ie.__value="incensespiritweed")==null?"":"incensespiritweed";var Se=e(Ie,2);Se.value=(Se.__value="incensetarromin")==null?"":"incensetarromin";var Te=e(Se,2);Te.value=(Te.__value="incensetoadflax")==null?"":"incensetoadflax";var Ce=e(Te,2);Ce.value=(Ce.__value="incensetorstol")==null?"":"incensetorstol";var So=e(Ce,2);So.value=(So.__value="incensewergali")==null?"":"incensewergali";var Ho=e(D),Me=g(Ho);Me.value=(Me.__value="animatedead")==null?"":"animatedead";var Re=e(Me,2);Re.value=(Re.__value="archaeologiststea")==null?"":"archaeologiststea";var Le=e(Re,2);Le.value=(Le.__value="aura")==null?"":"aura";var Ee=e(Le,2);Ee.value=(Ee.__value="bonfire")==null?"":"bonfire";var Be=e(Ee,2);Be.value=(Be.__value="cannonballs")==null?"":"cannonballs";var je=e(Be,2);je.value=(je.__value="cannontimer")==null?"":"cannontimer";var qe=e(je,2);qe.value=(qe.__value="cindercore")==null?"":"cindercore";var Fe=e(qe,2);Fe.value=(Fe.__value="clancitadel")==null?"":"clancitadel";var Ge=e(Fe,2);Ge.value=(Ge.__value="crystalmask")==null?"":"crystalmask";var Oe=e(Ge,2);Oe.value=(Oe.__value="darkness")==null?"":"darkness";var De=e(Oe,2);De.value=(De.__value="noritualshard")==null?"":"noritualshard";var Ve=e(De,2);Ve.value=(Ve.__value="noexcalibur")==null?"":"noexcalibur";var We=e(Ve,2);We.value=(We.__value="firelighter")==null?"":"firelighter";var He=e(We,2);He.value=(He.__value="godbook")==null?"":"godbook";var Ue=e(He,2);Ue.value=(Ue.__value="grimoire")==null?"":"grimoire";var Xe=e(Ue,2);Xe.value=(Xe.__value="hispecmonocle")==null?"":"hispecmonocle";var Ke=e(Xe,2);Ke.value=(Ke.__value="loveletter")==null?"":"loveletter";var Ne=e(Ke,2);Ne.value=(Ne.__value="luminiteinjector")==null?"":"luminiteinjector";var Je=e(Ne,2);Je.value=(Je.__value="materialmanual")==null?"":"materialmanual";var Qe=e(Je,2);Qe.value=(Qe.__value="porter")==null?"":"porter";var Ye=e(Qe,2);Ye.value=(Ye.__value="proteanpowerup")==null?"":"proteanpowerup";var Ze=e(Ye,2);Ze.value=(Ze.__value="pulsecore")==null?"":"pulsecore";var ze=e(Ze,2);ze.value=(ze.__value="roarofosseous")==null?"":"roarofosseous";var $e=e(ze,2);$e.value=($e.__value="rockofresilience")==null?"":"rockofresilience";var eo=e($e,2);eo.value=(eo.__value="scrimshaw")==null?"":"scrimshaw";var oo=e(eo,2);oo.value=(oo.__value="signoflife")==null?"":"signoflife";var ao=e(oo,2);ao.value=(ao.__value="stoneofjas")==null?"":"stoneofjas";var to=e(ao,2);to.value=(to.__value="summon")==null?"":"summon";var lo=e(to,2);lo.value=(lo.__value="tarpaulinsheet")==null?"":"tarpaulinsheet";var no=e(lo,2);no.value=(no.__value="valentinesflip")==null?"":"valentinesflip";var ro=e(no,2);ro.value=(ro.__value="valentinesslam")==null?"":"valentinesslam";var To=e(ro,2);To.value=(To.__value="wiseperk")==null?"":"wiseperk";var io=e(le,9);U(()=>{o(h),N(()=>{})});var po=g(io);po.value=(po.__value="active")==null?"":"active";var uo=e(po);uo.value=(uo.__value="inactive")==null?"":"inactive";var so=e(uo);so.value=(so.__value="lessthan")==null?"":"lessthan";var vo=e(so);vo.value=(vo.__value="greaterthan")==null?"":"greaterthan";var _o=e(vo);_o.value=(_o.__value="parenslessthan")==null?"":"parenslessthan";var Co=e(_o);Co.value=(Co.__value="greater than")==null?"":"greater than";var Uo=e(io,4);{var Xo=K=>{var Mo=_a(),Ko=e(x(Mo),4);$(Ko,()=>o(v),No=>l(v,No)),_(K,Mo)};E(Uo,K=>{o(h)!==null&&o(h)!=="active"&&o(h)!=="inactive"&&K(Xo)})}J(le,()=>o(b),K=>l(b,K)),J(io,()=>o(h),K=>l(h,K)),_(Y,te)},Wo=Y=>{var te=ue(),le=x(te);{var fe=M=>{var q=xa(),F=e(x(q),4);U(()=>{o(oe),N(()=>{})});var G=g(F);G.value=(G.__value=!0)==null?"":!0;var H=e(G);H.value=(H.__value=!1)==null?"":!1;var y=e(F,5);{var P=c=>{var m=da(),s=e(x(m),4);s.__change=[fa,C,Bo,ae],$(s,()=>o(ae),f=>l(ae,f)),_(c,m)},R=c=>{var m=ba(),s=e(x(m),4);$(s,()=>o(C),f=>l(C,f)),_(c,m)};E(y,c=>{o(oe)?c(P):c(R,!1)})}J(F,()=>o(oe),c=>l(oe,c)),_(M,q)},ne=M=>{var q=ue(),F=x(q);{var G=y=>{var P=ma(),R=e(x(P),4);U(()=>{o(b),N(()=>{})});var c=g(R);c.value=(c.__value="lostsoul")==null?"":"lostsoul";var m=e(c);m.value=(m.__value="eliteslayermob")==null?"":"eliteslayermob";var s=e(m);s.value=(s.__value="firespirit")==null?"":"firespirit";var f=e(s);f.value=(f.__value="penguinagent")==null?"":"penguinagent";var k=e(f);k.value=(k.__value="serenspirit")==null?"":"serenspirit",J(R,()=>o(b),A=>l(b,A)),_(y,P)},H=y=>{var P=ue(),R=x(P);{var c=s=>{var f=ga(),k=e(x(f),4);U(()=>{o(b),N(()=>{})});var A=g(k);A.value=(A.__value="health")==null?"":"health";var I=e(A);I.value=(I.__value="adrenaline")==null?"":"adrenaline";var O=e(I);O.value=(O.__value="prayer")==null?"":"prayer";var D=e(O);D.value=(D.__value="summoning")==null?"":"summoning";var V=e(k,9);J(k,()=>o(b),L=>l(b,L)),$(V,()=>o(v),L=>l(v,L)),_(s,f)},m=s=>{var f=ue(),k=x(f);{var A=I=>{var O=ya(),D=e(x(O),4);U(()=>{o(X),N(()=>{})});var V=g(D);V.value=(V.__value=!1)==null?"":!1;var L=e(V);L.value=(L.__value=!0)==null?"":!0;var re=e(D,2);{var ie=W=>{var Z=wa(),z=e(x(Z),7);z.__change=[ha,v,ve],$(z,()=>o(ve),pe=>l(ve,pe)),_(W,Z)};E(re,W=>{o(X)&&W(ie)})}J(D,()=>o(X),W=>l(X,W)),_(I,O)};E(k,I=>{o(p)===a.xpgain&&I(A)},!0)}_(s,f)};E(R,s=>{o(p)===a.stat?s(c):s(m,!1)},!0)}_(y,P)};E(F,y=>{o(p)===a.model?y(G):y(H,!1)},!0)}_(M,q)};E(le,M=>{o(p)===a.chat||o(p)===a.popup?M(fe):M(ne,!1)},!0)}_(Y,te)};E(ce,Y=>{o(p)===a.buff?Y(we):Y(Wo,!1)},!0)}_(r,j)};E(Go,r=>{o(p)===a.afktimer?r(Oo):r(Do,!1)})}var Vo=e(bo,2),Ao=g(Vo);Ao.__click=[ia];var Io=e(Ao,2);Io.__click=[ra,jo],U(()=>{xo!==(xo=a.afktimer)&&(de.value=(de.__value=a.afktimer)==null?"":a.afktimer),mo!==(mo=a.buff)&&(be.value=(be.__value=a.buff)==null?"":a.buff),go!==(go=a.chat)&&(xe.value=(xe.__value=a.chat)==null?"":a.chat),ho!==(ho=a.model)&&(me.value=(me.__value=a.model)==null?"":a.model),wo!==(wo=a.popup)&&(ge.value=(ge.__value=a.popup)==null?"":a.popup),yo!==(yo=a.stat)&&(he.value=(he.__value=a.stat)==null?"":a.stat),Po!==(Po=a.xpgain)&&(ko.value=(ko.__value=a.xpgain)==null?"":a.xpgain),Io.disabled=!o(i)}),J(_e,()=>o(p),r=>l(p,r)),_(t,co),$o()}Jo(["change","click"]);ea(Pa,{target:document.body});
